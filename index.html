<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QR Code Generator</title>
    <style>
        /* Your existing styles */
        #KHQR #backDrop {
            width: 100%;
            height: 100vh;
            background: #00ffea00;
            position: fixed;
        }

        .download {
            display: flex;
            justify-content: center;
        }

        #down {
            font-size: 20px;
            color: aqua;
            cursor: pointer;
            border: none;
            background-color: white;
        }

        #KHQR {
            position: fixed;
            top: -40px;
            left: 0;
            width: 100%;
            height: 100px;
            backdrop-filter: blur(4px);
            background-color: #ffffff00;
            z-index: 1;
        }

        #KHQRcontainer {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 35px;
            height: 100vh;
            font-family: 'Nunito Sans', sans-serif;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        #card {
            width: 100%;
            height: 600px;
            background-color: #ffffff;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            border-radius: 28px;
            position: relative;
            top: 100px;
            animation: bottomToTop 1s ease-in-out;
        }

        @media (min-width: 800px) {
            #card {
                width: 400px;
                height: 590px;
                background-color: #ffffff;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                border-radius: 8px;
                top: 0;
            }
        }

        .right {
            border-bottom: 20px solid transparent;
            border-right: 20px solid #E1232E;
            position: relative;
            top: 0;
            right: 0;
        }

        .KHQRheader {
            height: 12%;
            background-color: #E1232E;
            border-radius: 25px 25px 0 0;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logoKHQR {
            height: 25%;
            margin-top: 30px;
        }

        .qr {
            width: 200px;
        }

        #KHQR .name {
            margin-top: -15px;
        }

        #KHQR .name .shop-name {
            font-size: 12px;
        }

        .currency {
            font-size: 12px;
        }

        .amount {
            font-size: 21px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 20px;
        }

        .name .amount,
        .shop-name {
            margin-left: 20px;
        }

        #QRImg {
            width: 80%;
            justify-content: center;
            align-items: center;
            display: flex;
            margin: 8% 10%;
        }

        #QRImg .usd {
            position: fixed;
        }
    </style>
</head>
<body>
    <div id="KHQR">
        <div id="KHQRcontainer">
            <div id="backDrop" onclick="closeQR()"></div>
            <div id="card">
                <div class="KHQRheader">
                    <img class="logoKHQR" src="img/KHQR Logo.png" alt="">
                </div>
                <div class="right"></div>
                <div class="name">
                    <div class="flex">
                        <div class="oneBox">
                            <span class="shop-name">EMPTY SHOP</span>
                            <div class="amount">10 <span class="currency">USD</span></div>
                        </div>
                    </div>
                    <svg width="400px" height="2" viewBox="0 0 400 2" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0 0.845703H400" stroke="black" stroke-opacity="0.5" stroke-dasharray="8 8" />
                    </svg>
                    <div id="QRImg">
                        <!-- The QR code will be generated here -->
                        <div id="qrCode"></div>
                        <img class="usd" src="img/usd-khqr-logo.svg" alt="">
                    </div>
                </div>
                <div class="download">
                    <img src="data:image/jpeg;base64,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">
                    <button id="down">Download QR</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Include html2canvas library -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>

    <script>
        const qrCodeContainer = document.getElementById('qrCode');
        const downloadBtn = document.getElementById('down');
        const cardElement = document.getElementById('card');

        // Generate QR code dynamically
        const qrCode = new QRCode(qrCodeContainer, {
            text: "https://example.com",  // Replace this with your dynamic data
            width: 200,
            height: 200
        });

        // Download the entire #card element as an image
        downloadBtn.addEventListener('click', () => {
            html2canvas(cardElement).then(canvas => {
                const link = document.createElement('a');
                link.href = canvas.toDataURL();
                link.download = 'qr_code_card.png';
                link.click();
            });
        });
    </script>
</body>
</html>
